# Values for Bloomberg goldpinger chart
# Based on https://github.com/bloomberg/goldpinger/tree/main/helm-chart

image:
  repository: bloomberg/goldpinger
  tag: "3.10.2"
  pullPolicy: IfNotPresent

# Resource limits aligned with existing kURL values
resources:
  limits:
    cpu: 50m
    memory: 128Mi
  requests:
    cpu: 20m
    memory: 64Mi

# Service account configuration
serviceAccount:
  create: true
  name: goldpinger

# Service configuration to match existing kURL setup
service:
  type: ClusterIP
  port: 80

# Pod configuration with environment variables matching existing setup
extraEnv:
  # podIP is used to select a randomized subset of nodes to ping.
  - name: POD_IP
    valueFrom:
      fieldRef:
        fieldPath: status.podIP
  - name: PING_TIMEOUT
    value: "2s"
  - name: CHECK_TIMEOUT
    value: "3s"
  - name: CHECK_ALL_TIMEOUT
    value: "10s"

# RBAC configuration
rbac:
  create: true

# Pod settings
goldpinger:
  port: 8080

# Ingress disabled to match existing setup
ingress:
  enabled: false

# Node selector, tolerations, and affinity to match existing setup
nodeSelector: {}
tolerations: []
affinity: {}

# Pod annotations and labels
podAnnotations: {}
podLabels: {}

# ServiceMonitor configuration for Prometheus integration
serviceMonitor:
  enabled: false
  selector:
    prometheus: "kube-prometheus"
  interval: 30s

# Priority class
priorityClassName: ""

# Pod security policy
podSecurityPolicy:
  enabled: false
  policyName: unrestricted-psp